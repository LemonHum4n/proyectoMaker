<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedir hora</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{{url_for('static',filename='css/estilo_reserva.css')}}">
</head>
<body>
    <div>
        <header>
            <h1>Pedir Reserva</h1>
        </header>
        <form action="/reserva" method="post" id="form_reserva">
            <section class="d-flex">
                <div class="div_rut">
                    <h5>Rut:</h5>
                    <input type="text" name="rut" class="form-control" placeholder="11111111-1" id="validationRut" required>
                </div>
                <div class="div_nombre">
                    <h5>Nombre:</h5>
                    <input type="text" name="nombre" class="form-control" placeholder="Ingrese su nombre" id="validationName" required>
                    <div class="invalid-feedback">
                        Porfavor ingrese su nombre.
                    </div>
                </div>
                <div class="div_apellido">
                    <h5>Apellido:</h5>
                    <input type="text" name="apellido" class="form-control" placeholder="Ingrese su apellido" id="validationLastName" required>
                    <div class="invalid-feedback">
                        Porfavor ingrese su apellido.
                    </div>
                </div>
                <div class="div_gmail">
                    <h5>Gmail:</h5>
                    <input type="text" name="gmail" class="form-control" placeholder="ejemplo@example.com" id="validationGmail" required>
                </div>
            </section>
            <section class="d-flex justify-content-between">
                <div class="div_tipo">
                    <h5>Tipo visita:</h5>
                    <select name="tipo_visita" class="form-select form-select-sm" id="idvisita">
                        <option value="Estudiante">Estudiante</option>
                        <option value="Profesor">Profesor</option>
                        <option value="Apoderado">Apoderado</option>
                        <option value="Visita">Visita</option>
                        <option value="Otro" selected>Otro</option>
                    </select>
                </div>
                <div class="div_zona">
                    <h5>Zona:</h5>
                    <select name="zona" id="idzona" class="form-select form-select-sm">
                        <option value="Impresora 3D">Impresora 3D</option>
                        <option value="Router CNC">Router CNC</option>
                        <option value="Cortadora Laser">Cortadora laser</option>
                        <option value="Clase capacitacion">Clase capacitacion</option>
                        <option value="Sala de clases">Sala de clases</option>
                        <option value="Taller">Taller</option>
                        <option value="Domo de batalla robotica">Domo de batalla robotica</option>
                    </select>
                </div>
                <div class="div_fecha">
                    <h5>Fecha y hora:</h5>
                    <div class="d-flex align-items-center">
                        <input class="form-control" type="date" id="start" name="fecha" value="">
                        <select class="form-control horario" name="horario" id="horario">
                            <option value="08:00">08:00</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                        </select>
                    </div>
                </div>
                <script>
                    const dateInput = document.getElementById('start');
                    const today = new Date();
                    const yyyy = today.getFullYear();
                    const mm = String(today.getMonth() + 1).padStart(2, '0');
                    const dd = String(today.getDate()).padStart(2, '0');
                    const todayFormatted = `${yyyy}-${mm}-${dd}`;
                    dateInput.min = todayFormatted;
                    dateInput.addEventListener('input', function () {
                        const selectedDate = new Date(this.value);
                        const day = selectedDate.getDay();
                        if (day === 5 || day === 6) {
                            alert('No se permiten reservas los fines de semana (s√°bados y domingos).');
                            this.value = '';
                        }
                    });
                </script>
                <script>
                    
                </script>
            </section>
            <footer>
                <input type="submit" value="Enviar reserva" id="input_enviar">
            </footer>
        </form>
        <form action="/eliminar_reserva" method="post" id="form_eliminar">
            <footer>
                <input type="submit" value="Eliminar reserva" id="input_eliminar">
            </footer>
        </form>
    </div>
</body>
</html>